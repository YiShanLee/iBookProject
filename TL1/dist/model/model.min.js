function modelConstructor(){function a(a){for(var b=0;b<j.length;b++)if(j[b].isbn===a)return b;return-1}function b(){var a=j.slice().reverse();return a}function c(){return h}function d(a){j.push(a),e()}function e(){"undefined"!=typeof Storage&&localStorage.setItem("bookList",JSON.stringify(j)),console.log(localStorage)}function f(b){var c=a(b);j.splice(c,1);var d=JSON.stringify(j);localStorage.setItem("bookList",d)}function g(b){var c=a(b);return j[c]}var h,j=[];return{addBook:d,getBookList:b,deleteBook:f,getBookByIsbn:g,getSelectedBook:c,setSelectedBook:function(a){h=a},getBooksFromStorage:function(){"undefined"!=typeof Storage&&null!=localStorage.getItem("bookList")&&(j=JSON.parse(localStorage.getItem("bookList")))},isbnAlreadyExists:function(b){return 0<=a(b.isbn)},isLocalStorageNotAvailable:function(){return"undefined"==typeof Storage}}}