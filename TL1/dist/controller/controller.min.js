function controller(){function a(){var a=document.getElementById("css");a.setAttribute("href","css/Light.css")}function b(){var a=document.getElementById("css");a.setAttribute("href","css/Dark.css")}function c(a){"#list"===a||""==a?(h.renderBookListView(i.getBookList(),d,e),document.getElementById("detailsTab").setAttribute("class","nav-link disabled")):"#add"===a?(h.renderAddView(),h.bindClickOnAddButton(f),document.getElementById("detailsTab").setAttribute("class","nav-link disabled")):"#details"===a?h.renderDetailsView(i.getSelectedBook()):h.renderErrorPage("404 ERROR - HASH DOES NOT EXIST")}function d(a){if(i.deleteBook(a),h.animateBookDeletion(a),null!=i.getSelectedBook()&&i.getSelectedBook().isbn===a){var b;i.setSelectedBook(b)}}function e(a){var b=i.getBookByIsbn(a);i.setSelectedBook(b),window.location.hash="#details",document.getElementById("detailsTab").setAttribute("class","nav-link active"),h.renderDetailsView(b)}function f(){var a=h.getInputFields();null==a||(g(a)?h.showErrorMessage("This ISBN already exists."):(i.addBook(a),window.location.hash="#list",h.showSuccessMessage("Book Added")))}function g(a){return i.isbnAlreadyExists(a)}var h=viewConstructor(),i=modelConstructor();if(i.isLocalStorageNotAvailable())h.renderErrorPage("The local storage is not available");else{switch(i.getBooksFromStorage(),h.bindClickOnDarkButton(b),h.bindClickOnLightButton(a),window.location.hash){case"":case"#list":h.renderBookListView(i.getBookList(),d,e),document.getElementById("detailsTab").setAttribute("class","nav-link disabled");break;case"#add":h.renderAddView(),h.bindClickOnAddButton(f),document.getElementById("detailsTab").setAttribute("class","nav-link disabled");break;case"#details":h.renderDetailsView(i.getSelectedBook());break;default:h.renderErrorPage("404 ERROR - HASH DOES NOT EXIST");}window.onhashchange=function(){c(window.location.hash)}}}